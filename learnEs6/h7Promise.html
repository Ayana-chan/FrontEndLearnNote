<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // Promise = 成功与否状态 + 内容
        const p = new Promise(function(resolve,reject){
            setTimeout(()=>{
                let data = 'This is Data';
                resolve(data);
                // let err='Error for Data';
                // reject(err);
            },1000);
            return 123;
        });

        // Promise可以return一个对象（默认为undefined）
        // 这会干涉到p.then的返回值
        // 若返回Promise对象，则把自己变成那个Promise（状态加内容都变）
        // 否则，Promise的内容变成返回值（状态不变）
        const temp = p.then(res=>{
            console.log(res);
        },err=>{
            console.log(err);
        })

        //注意，如果是Promise内是异步方法，这里无法console到结果
        // console.log(temp);


        //链式调用
        //每个Promise都返回“下一个要做的事情的Promise”
        // p.then(value=>{

        // }).then(value=>{
            
        // });

        //catch语法糖，相当于then少一个参数
        p.catch(reason=>{
            console.warn(reason);
        });

    </script>

</body>
</html>